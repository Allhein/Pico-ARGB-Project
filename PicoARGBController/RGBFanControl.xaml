<UserControl x:Class="PicoARGBControl.RGBFanControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="150" d:DesignWidth="150">
    <Canvas Width="150" Height="150">
        <!-- CÃ­rculo exterior con borde RGB animado -->
        <Ellipse x:Name="OuterRing" Width="140" Height="140" StrokeThickness="10" Canvas.Left="5" Canvas.Top="5">
            <Ellipse.Stroke>
                <RadialGradientBrush GradientOrigin="0.5,0.5" RadiusX="0.8" RadiusY="0.8">
                    <GradientStop x:Name="gs1" Color="Red" Offset="0.0"/>
                    <GradientStop x:Name="gs2" Color="Orange" Offset="0.2"/>
                    <GradientStop x:Name="gs3" Color="Yellow" Offset="0.4"/>
                    <GradientStop x:Name="gs4" Color="Green" Offset="0.6"/>
                    <GradientStop x:Name="gs5" Color="Blue" Offset="0.8"/>
                    <GradientStop x:Name="gs6" Color="Violet" Offset="1.0"/>
                </RadialGradientBrush>
            </Ellipse.Stroke>
        </Ellipse>

        <!-- Centro del fan -->
        <Ellipse Width="30" Height="30" Fill="Black" Stroke="Gray" StrokeThickness="2" 
                 Canvas.Left="60" Canvas.Top="60"/>

        <!-- Aspas del ventilador -->
        <Path Fill="#222" Stroke="Gray" StrokeThickness="1" Data="M75,75 L140,75 A65,65 0 0,1 75,140 Z">
            <Path.RenderTransform>
                <RotateTransform x:Name="blade1" CenterX="75" CenterY="75"/>
            </Path.RenderTransform>
        </Path>
        <Path Fill="#222" Stroke="Gray" StrokeThickness="1" Data="M75,75 L140,75 A65,65 0 0,1 75,140 Z">
            <Path.RenderTransform>
                <RotateTransform x:Name="blade2" Angle="120" CenterX="75" CenterY="75"/>
            </Path.RenderTransform>
        </Path>
        <Path Fill="#222" Stroke="Gray" StrokeThickness="1" Data="M75,75 L140,75 A65,65 0 0,1 75,140 Z">
            <Path.RenderTransform>
                <RotateTransform x:Name="blade3" Angle="240" CenterX="75" CenterY="75"/>
            </Path.RenderTransform>
        </Path>

        <!-- Animaciones -->
        <Canvas.Triggers>
            <!-- Giro de aspas -->
            <EventTrigger RoutedEvent="Canvas.Loaded">
                <BeginStoryboard>
                    <Storyboard RepeatBehavior="Forever">
                        <DoubleAnimation Storyboard.TargetName="blade1" Storyboard.TargetProperty="Angle" 
                                         From="0" To="360" Duration="0:0:2" RepeatBehavior="Forever"/>
                        <DoubleAnimation Storyboard.TargetName="blade2" Storyboard.TargetProperty="Angle" 
                                         From="120" To="480" Duration="0:0:2" RepeatBehavior="Forever"/>
                        <DoubleAnimation Storyboard.TargetName="blade3" Storyboard.TargetProperty="Angle" 
                                         From="240" To="600" Duration="0:0:2" RepeatBehavior="Forever"/>

                        <!-- Animaciones de color se controlan desde code-behind para ser reactivas a modo y color -->
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </Canvas.Triggers>
    </Canvas>
</UserControl>